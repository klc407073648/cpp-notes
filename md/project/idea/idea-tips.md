# 项目开发 - tips

> 遇到的坑误踩。

# 坑列表

* 扩展接口，可以在函数后面新增参数，且通过给默认值的方式不影响原来老函数调用
* 变量未付初值，导致for循环异常。 ———— 字符串初始化为"",整数初始化为0
* Linux服务器的sftp磁盘满时，会写入0kb的空文件
* 同质异步发现归并，对于查询相同的内容进行合并查询  ———— 思想就是归并相同的内容或等待积累一定量再定期查询
* 项目：**需求分析，设计思想最重要，先构思，再功能。**   ———— 先写入值，从转换从数据库查等
* 数据库连接池管理
* 流控限制，需要从网关侧统一考虑
* 代码灵活性，多用配置文件读取参数，或者就是从注册中心取
* jsoncpp使用时，采用Json::FastWriter，压缩格式的json内容进行网络传输，传递时用压缩格式的 json 字符串，不包含没有必要的空格和换行符。
* 借助excel里的计算公式，例如将公式的字符串内容写到对应位置，关闭文件后再去读取excel的内容，已经是计算的结果了

* 同步比异步逻辑清晰；但是异步比同步速度快。
    协程 ————> 异步的性能，同步的编码方式

    recv/send操作和epoll_wait在同一个流程，同步操作。
    recv/send操作和epoll_wait不在同一个流程，异步操作。

* 在真正需要一个存储空间时才去声明变量（分配内存），这样会得到程序在运行时最小的内存花销
* 异步消息: 不能发送地址，不同虚机地址里东西不一样
