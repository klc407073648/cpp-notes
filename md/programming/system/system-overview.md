# æ“ä½œç³»ç»Ÿ -æ¦‚è¿°

[[toc]]

## ğŸ’» æ“ä½œç³»ç»Ÿ

![ç›¸å…³é¢è¯•é¢˜](/md/interview/knowledge/operating-system.md)

### æ–‡ä»¶ç³»ç»Ÿ

* Windowsï¼šFCB è¡¨ + FAT + ä½å›¾
* Unixï¼šinode + æ··åˆç´¢å¼• + æˆç»„é“¾æ¥

### ä¸»æœºå­—èŠ‚åºä¸ç½‘ç»œå­—èŠ‚åº

#### ä¸»æœºå­—èŠ‚åºï¼ˆCPU å­—èŠ‚åºï¼‰

##### æ¦‚å¿µ

ä¸»æœºå­—èŠ‚åºåˆå« CPU å­—èŠ‚åºï¼Œå…¶ä¸æ˜¯ç”±æ“ä½œç³»ç»Ÿå†³å®šçš„ï¼Œè€Œæ˜¯ç”± CPU æŒ‡ä»¤é›†æ¶æ„å†³å®šçš„ã€‚ä¸»æœºå­—èŠ‚åºåˆ†ä¸ºä¸¤ç§ï¼š

* å¤§ç«¯å­—èŠ‚åºï¼ˆBig Endianï¼‰ï¼šé«˜åºå­—èŠ‚å­˜å‚¨åœ¨ä½ä½åœ°å€ï¼Œä½åºå­—èŠ‚å­˜å‚¨åœ¨é«˜ä½åœ°å€
* å°ç«¯å­—èŠ‚åºï¼ˆLittle Endianï¼‰ï¼šé«˜åºå­—èŠ‚å­˜å‚¨åœ¨é«˜ä½åœ°å€ï¼Œä½åºå­—èŠ‚å­˜å‚¨åœ¨ä½ä½åœ°å€

##### å­˜å‚¨æ–¹å¼

32 ä½æ•´æ•° `0x12345678` æ˜¯ä»èµ·å§‹ä½ç½®ä¸º `0x00` çš„åœ°å€å¼€å§‹å­˜æ”¾ï¼Œåˆ™ï¼š

å†…å­˜åœ°å€ | 0x00 | 0x01 | 0x02 | 0x03
---|---|---|---|---
å¤§ç«¯|12|34|56|78
å°ç«¯|78|56|34|12

å¤§ç«¯å°ç«¯å›¾ç‰‡

![å¤§ç«¯åº](https://raw.githubusercontent.com/huihut/interview/master/images/CPU-Big-Endian.svg.png)
![å°ç«¯åº](https://raw.githubusercontent.com/huihut/interview/master/images/CPU-Little-Endian.svg.png)

##### åˆ¤æ–­å¤§ç«¯å°ç«¯

åˆ¤æ–­å¤§ç«¯å°ç«¯

å¯ä»¥è¿™æ ·åˆ¤æ–­è‡ªå·± CPU å­—èŠ‚åºæ˜¯å¤§ç«¯è¿˜æ˜¯å°ç«¯ï¼š

```cpp
#include <iostream>
using namespace std;

int main()
{
	int i = 0x12345678;

	if (*((char*)&i) == 0x12)
		cout << "å¤§ç«¯" << endl;
	else	
		cout << "å°ç«¯" << endl;

	return 0;
}
```

##### å„æ¶æ„å¤„ç†å™¨çš„å­—èŠ‚åº

* x86ï¼ˆIntelã€AMDï¼‰ã€MOS Technology 6502ã€Z80ã€VAXã€PDP-11 ç­‰å¤„ç†å™¨ä¸ºå°ç«¯åºï¼›
* Motorola 6800ã€Motorola 68000ã€PowerPC 970ã€System/370ã€SPARCï¼ˆé™¤ V9 å¤–ï¼‰ç­‰å¤„ç†å™¨ä¸ºå¤§ç«¯åºï¼›
* ARMï¼ˆé»˜è®¤å°ç«¯åºï¼‰ã€PowerPCï¼ˆé™¤ PowerPC 970 å¤–ï¼‰ã€DEC Alphaã€SPARC V9ã€MIPSã€PA-RISC åŠ IA64 çš„å­—èŠ‚åºæ˜¯å¯é…ç½®çš„ã€‚

#### ç½‘ç»œå­—èŠ‚åº

ç½‘ç»œå­—èŠ‚é¡ºåºæ˜¯ TCP/IP ä¸­è§„å®šå¥½çš„ä¸€ç§æ•°æ®è¡¨ç¤ºæ ¼å¼ï¼Œå®ƒä¸å…·ä½“çš„ CPU ç±»å‹ã€æ“ä½œç³»ç»Ÿç­‰æ— å…³ï¼Œä»è€Œå¯ä»¥ä¿è¯æ•°æ®åœ¨ä¸åŒä¸»æœºä¹‹é—´ä¼ è¾“æ—¶èƒ½å¤Ÿè¢«æ­£ç¡®è§£é‡Šã€‚

ç½‘ç»œå­—èŠ‚é¡ºåºé‡‡ç”¨ï¼šå¤§ç«¯ï¼ˆBig Endianï¼‰æ’åˆ—æ–¹å¼ã€‚

### é¡µé¢ç½®æ¢ç®—æ³•

åœ¨åœ°å€æ˜ å°„è¿‡ç¨‹ä¸­ï¼Œè‹¥åœ¨é¡µé¢ä¸­å‘ç°æ‰€è¦è®¿é—®çš„é¡µé¢ä¸åœ¨å†…å­˜ä¸­ï¼Œåˆ™äº§ç”Ÿç¼ºé¡µä¸­æ–­ã€‚å½“å‘ç”Ÿç¼ºé¡µä¸­æ–­æ—¶ï¼Œå¦‚æœæ“ä½œç³»ç»Ÿå†…å­˜ä¸­æ²¡æœ‰ç©ºé—²é¡µé¢ï¼Œåˆ™æ“ä½œç³»ç»Ÿå¿…é¡»åœ¨å†…å­˜é€‰æ‹©ä¸€ä¸ªé¡µé¢å°†å…¶ç§»å‡ºå†…å­˜ï¼Œä»¥ä¾¿ä¸ºå³å°†è°ƒå…¥çš„é¡µé¢è®©å‡ºç©ºé—´ã€‚è€Œç”¨æ¥é€‰æ‹©æ·˜æ±°å“ªä¸€é¡µçš„è§„åˆ™å«åšé¡µé¢ç½®æ¢ç®—æ³•ã€‚